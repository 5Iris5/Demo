<!DOCTYPE html>
<html lang="en">
<head>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<meta charset="UTF-8">
	<title>JQwaterfall</title>
	<style>
	*{
		margin:0;
		padding:0;
		box-sizing: border-box;
	}
	.waterfall{
		position:relative;
	}
	.waterfall:after{
		content:'';
		display:block;
		clear:both;
	}
	.box{
		margin:10px 0px 0px 10px;
		border:1px solid #ccc;
		border-radius:5px;
		box-shadow:0 0 5px #ccc;
		float:left;
	}
	.pic{
		padding:15px;
	}
	.pic img{
		width:180px;
		height:auto;
	}
	.pic p{
		color:#ccc;
	}
	</style>
</head>
<body>
	<div class="waterfall">
		<div class="box">
			<div class="pic">
				<img src="img/1.jpg" alt="">
				<p>May Buddha let us<br> meet</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.jpg" alt="">
				<p>in my most beautiful<br> hours,</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.jpg" alt="">
				<p>I have prayed for it</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/4.jpg" alt="">
				<p>for five hundred years.</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/5.jpg" alt="">
				<p>Buddha made me a<br> tree</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/6.jpg" alt="">
				<p>by the path you may<br> take,</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/7.jpg" alt="">
				<p>In full blossoms I'm<br> waiting in the sun</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/8.jpg" alt="">
				<p>every flower carrying<br> my previous hope.</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/9.jpg" alt="">
				<p>As you are near, listen<br> carefully</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.1.jpg" alt="">
				<p>the quivering leaves<br> are my waiting zeal,</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.2.jpg" alt="">
				<p>As you pass by the tree</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.3.jpg" alt="">
				<p>without noticing me,</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.4.jpg" alt="">
				<p>My friend, upon the<br> ground behind you</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.5.jpg" alt="">
				<p>is not the fallen petals<br> but my withered heart.</p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.6.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.7.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.8.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/1.9.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.0.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.1.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.2.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.3.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.4.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.5.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.6.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.7.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.8.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/2.9.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.0.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.1.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.2.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.3.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.4.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.5.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.6.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.7.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.8.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/3.9.jpg" alt="">
				<p></p>
			</div>
		</div>
		<div class="box">
			<div class="pic">
				<img src="img/4.0.jpg" alt="">
				<p></p>
			</div>
		</div>
	</div>
	<script>
		var col
		var hArr = []
		var imgWidth = $('.box').outerWidth(true)
		col = Math.floor($('.waterfall').width()/imgWidth)
		console.log(col)
		for(var i=0; i<col; i++){
			hArr[i] = 0
		}
		//[0 0 0]
		$(window).on('load',function(){
			var minValue = hArr[0]
			var minIndex = 0
			for(var i=0; i<col; i++){
				if(hArr[i] < minValue){
					minValue = hArr[i]
					minIndex = i
				}
			}
			$('.box').css({
				left: minIndex * imgWidth,
				top: minValue
			})
			console.log($('.box').outerHeight(true))
			hArr[minIndex] += $('.box').outerHeight(true)
			console.log(hArr)
		})
	</script>
</body>
</html>